# =====================================================
# DEVELOPMENT PROFILE
# =====================================================
# ========================================
# DATABASE - TEST
# ========================================
# AlwaysData TEST database (uncomment to use)
spring.datasource.url=jdbc:mariadb://mysql-robgro.alwaysdata.net:3306/robgro_test_invoices?sslMode=REQUIRED&requireSSL=true&verifyServerCertificate=true
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# ========================================
# FLYWAY - DISABLED FOR DEVELOPMENT
# ========================================
# IMPORTANT: Disabled to prevent automatic migrations during feature development
spring.flyway.enabled=false

# ========================================
# HIBERNATE - AUTO SCHEMA GENERATION
# ========================================
# Let Hibernate create/update schema based on @Entity classes
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ========================================
# LOGGING - DETAILED FOR DEBUGGING
# ========================================
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.web=DEBUG
logging.level.dev.robgro.timesheet=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.dev.robgro.timesheet.service=DEBUG

# ========================================
# FTP - DEVELOPMENT (using real AlwaysData FTP)
# ========================================
ftp.server=ftp-robgro.alwaysdata.net
ftp.port=21
ftp.username=${DB_USERNAME}
ftp.password=${DB_PASSWORD}
ftp.invoices.directory=/files/invoices_test
ftp.connection.timeout=10000
ftp.data.timeout=60000
ftp.security.accept-all-certificates=true

# ========================================
# JWT - DEVELOPMENT SECRETS
# ========================================
# NEVER use these in production!
app.jwt.secret=dev-secret-key-for-local-development-only-not-secure

# ========================================
# SCHEDULING - DISABLED IN DEV
# ========================================
scheduling.invoicing.enabled=false

# ========================================
# EMAIL TRACKING - DEVELOPMENT (common config in application.properties)
# ========================================
app.base-url=http://localhost:8080

# ========================================
# SWAGGER - ENABLED
# ========================================
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true

# ========================================
# THYMELEAF - NO CACHE FOR DEV
# ========================================
spring.thymeleaf.cache=false

# ========================================
# HIKARI CONNECTION POOL - DEV OVERRIDES
# ========================================
# DEV: Minimal connections - saves limit for IDE/tools
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
# DEV: Faster leak detection during development
spring.datasource.hikari.leak-detection-threshold=30000
