<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <th:block th:replace="~{email/admin-email-styles :: styles}"></th:block>
</head>
<body>
<div class="container">
    <!-- Header -->
    <div style="background-color: #ff9800; color: white; padding: 20px; margin: -20px -20px 20px -20px; border-radius: 8px 8px 0 0;">
        <h2 style="color: white; margin: 0;">‚ö†Ô∏è Client Activity Warning</h2>
        <p style="margin: 10px 0 0 0; opacity: 0.9;">Active clients without billable work</p>
    </div>

    <!-- Warning Box -->
    <div class="warning-box">
        <h3 style="margin-top: 0; color: #ff9800;">Missing Timesheets Detected</h3>
        <p>
            <strong th:text="${clientNames.size()}">X</strong>
            active client<span th:text="${clientNames.size() > 1 ? 's' : ''}">s</span>
            have no timesheets for the previous month and were not invoiced.
        </p>
    </div>

    <!-- Affected Clients -->
    <h3>üìã Affected Clients</h3>
    <table class="detail-table">
        <tr th:each="clientName, iterStat : ${clientNames}">
            <td style="padding: 8px; border-bottom: 1px solid #e0e0e0;">
                <span th:text="${iterStat.index < 3 ? 'üî¥' : '‚ö†Ô∏è'}">‚ö†Ô∏è</span>
                <strong th:text="${clientName}">Client Name</strong>
            </td>
        </tr>
    </table>

    <!-- Required Actions -->
    <h3>üîç Required Actions</h3>
    <div class="info-box">
        <strong>Please verify the following:</strong><br/><br/>
        ‚Ä¢ Is this expected behavior (e.g., client on hold, vacation, project break)?<br/>
        ‚Ä¢ Were timesheets forgotten or missed?<br/>
        ‚Ä¢ Should these clients still be marked as active?<br/>
        ‚Ä¢ Do any of these clients need manual invoicing?
    </div>

    <!-- Recommendations -->
    <h3>üí° Recommendations</h3>
    <div style="padding: 15px; background-color: #f5f5f5; border-radius: 4px; margin: 15px 0;">
        <strong>If timesheets were missed:</strong><br/>
        1. Add missing timesheets to the system<br/>
        2. Manually generate invoices for affected clients<br/>
        <br/>
        <strong>If no work was performed:</strong><br/>
        1. Verify client status with project managers<br/>
        2. Consider marking inactive clients as such<br/>
        3. Document the reason for no billable work
    </div>

    <!-- Footer -->
    <div class="footer">
        <p>This is an automated notification from Timesheet Invoicing Scheduler.</p>
        <p style="color: #ff9800; font-weight: bold;">‚ö†Ô∏è Review recommended to ensure billing accuracy</p>
    </div>
</div>
</body>
</html>
