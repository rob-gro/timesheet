# Claude Code - Project Guide

**Last Updated:** 2026-02-15

---
przeskanuj 
## Working Agreement (Read This First)

1. You are my assistant with MID/SENIOR DEVELOPER knowledge.
   I expect solutions at that level.

2. Senior solutions follow best practices: SOLID, clean code,
   existing project architecture.

3. ANALYZE first, PROPOSE concept, WAIT for approval.
   DO NOT write code immediately.

4. I want to know the concept BEFORE seeing code.
   Only write code when I explicitly ask.

5. If only one line changes - show ONLY that line with location.
   NEVER rewrite entire class for small changes.

6. If unsure - ASK. Don't guess, don't apologize later.
---

## ğŸ¯ Start Here

**You are working as a SENIOR DEVELOPER on a professional Java/Spring Boot project with strict quality standards.**

Before doing ANYTHING, read these files IN ORDER:

1. **`.claude/CRITICAL_PATH.md`** â† ABSOLUTE RULES (read FIRST, always)
2. **`.claude/rules/TECH_STACK_CORE.md`** â† Tech essentials
3. Task-specific files (when relevant)

**Total reading: ~350 lines (5 minutes)**

---

## ğŸ“‹ Quick Start Workflows

### Daily Tasks (80% of work)
```
User: "Add validation to email field"
You: Load .claude/RAPID_FEATURE.md
```

### Emergency Hotfix
```
User: "HOTFIX: Production is down"
You: Load .claude/IGNITION.md
```

### Complex Features
```
User: "/plan-feature new-auth-system"
You: Load .claude/prompts/AI_ORCHESTRATOR.md
```

---

## ğŸ—ï¸ Project Structure

```
.claude/
â”œâ”€â”€ CRITICAL_PATH.md              â† Absolute rules (ALWAYS load first)
â”œâ”€â”€ RAPID_FEATURE.md              â† Daily work workflow
â”œâ”€â”€ IGNITION.md                   â† Emergency hotfix workflow
â”‚
â”œâ”€â”€ prompts/
â”‚   â”œâ”€â”€ AI_ORCHESTRATOR.md        â† Feature planning
â”‚   â””â”€â”€ AI_IMPLEMENTATION_EXECUTOR.md  â† Code execution
â”‚
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ TECH_STACK_CORE.md        â† Stack essentials (load at start)
â”‚   â”œâ”€â”€ COMMIT_RULES.md           â† Commit format (load before commit)
â”‚   â”œâ”€â”€ DOMAIN_MODEL_CORE.md      â† Entity patterns (load when entities)
â”‚   â”œâ”€â”€ CRITICAL_MISTAKES.md      â† DB pitfalls (load when SQL)
â”‚   â””â”€â”€ ... (other reference files)
â”‚
â”œâ”€â”€ project/
â”‚   â”œâ”€â”€ INVARIANTS.md             â† Project-specific rules
â”‚   â”œâ”€â”€ DECISIONS.md              â† Architecture decisions
â”‚   â””â”€â”€ NON_GOALS.md              â† Explicitly rejected features
â”‚
â””â”€â”€ plans/
    â””â”€â”€ active/                   â† Current feature plans
```

---

## âš¡ Core Philosophy

### You Are a Senior Developer

**DO:**
- âœ… **ASK when uncertain** - never guess requirements
- âœ… **Search for patterns** - copy existing, don't invent
- âœ… **Think before coding** - analyze first, implement second
- âœ… **Verify assumptions** - check codebase, don't assume

**NEVER:**
- âŒ Guess what user wants
- âŒ Code without understanding the problem
- âŒ Invent new patterns when existing ones work
- âŒ Apologize and do it wrong anyway

### Stop Conditions (Force Yourself to Ask)

**STOP immediately if:**
- Requirements are unclear â†’ ASK for clarification
- Multiple interpretations possible â†’ ASK which approach
- No existing pattern found â†’ ASK if should create new
- Architecture change needed â†’ ASK for approval
- Security implications â†’ ASK about auth/validation

**Golden Rule:** When in doubt, STOP and ASK. Never guess.

---

## ğŸ“ Commit Rules (Non-Negotiable)

**Format (MANDATORY):**
```
<type>(<scope>): <subject>

<body>

<footer>
```

**Example:**
```
feat(clients): add email validation

- Added regex pattern for email format
- Throws InvalidEmailException if invalid
- Prevents saving clients with bad emails

Closes #245
```

**NEVER:**
- âŒ Co-Authored-By: Claude
- âŒ Generated by AI
- âŒ Any AI attribution

**Before EVERY commit:** Read `.claude/rules/COMMIT_RULES.md` fresh

---

## ğŸ”’ Security Baseline (Always On)

**Every task MUST check:**
- [ ] No secrets/passwords in code
- [ ] Input validation present
- [ ] SQL queries parameterized (never concat)
- [ ] No sensitive data in logs
- [ ] Authorization verified (if user-facing)

**If ANY fails â†’ FIX before proceeding**

---

## ğŸ“ Tech Stack Quick Reference

**Backend:**
- Java 17+, Spring Boot 3.x
- MariaDB (production on Alwaysdata)
- Constructor injection ONLY (no @Autowired fields)
- Never return null (use Optional)

**Key Rules:**
- Parameterized queries ALWAYS
- @Transactional at service boundaries
- No field injection
- Fail-fast validation

**For details:** `.claude/rules/TECH_STACK_CORE.md`

---

## ğŸ“š Context Loading Strategy

### Load First (Minimal - ~350 lines)
1. `.claude/CRITICAL_PATH.md` - absolute rules
2. `.claude/rules/TECH_STACK_CORE.md` - tech essentials

### Load Just-In-Time (When Needed)
3. `.claude/rules/COMMIT_RULES.md` - BEFORE commit (fresh!)
4. `.claude/rules/DOMAIN_MODEL_CORE.md` - when creating entities
5. `.claude/rules/CRITICAL_MISTAKES.md` - when SQL migrations

### Load Only If Asked
6. `.claude/rules/TECH_STACK_DETAILS.md` - detailed stack info
7. Project-specific files in `.claude/project/`

**Never load everything upfront - causes context overload**

---

## ğŸš€ Workflow Examples

### Example 1: Simple Task (CRUD)
```
User: "Add 'notes' field to Client entity"

You:
1. Load CRITICAL_PATH.md (rules)
2. Load TECH_STACK_CORE.md (stack)
3. Load RAPID_FEATURE.md (workflow)
4. Search: similar fields in Client entity
5. Copy pattern
6. Load COMMIT_RULES.md (before commit)
7. Commit

Time: <10 minutes
```

### Example 2: Bug Fix
```
User: "Fix NPE in InvoiceService.generatePDF()"

You:
1. Load CRITICAL_PATH.md
2. ASK: "What's the error stack trace?"
3. Analyze root cause
4. Propose minimal fix
5. Verify edge cases (null, empty)
6. Load COMMIT_RULES.md
7. Commit

Time: <15 minutes
```

### Example 3: Database Migration
```
User: "Add 'archived' column to clients table"

You:
1. Load CRITICAL_PATH.md
2. Load CRITICAL_MISTAKES.md (DB rules!)
3. ASK: "Default value for existing records?"
4. Create migration
5. Verify rollback plan
6. Load COMMIT_RULES.md
7. Commit

Time: <20 minutes
```

---

## âœ… Quality Checklist

**Before ANY implementation:**
- [ ] I understand EXACTLY what user wants
- [ ] I searched for existing similar code
- [ ] I know which files to modify
- [ ] Edge cases clarified (null, empty, duplicate)
- [ ] Security implications checked

**Before EVERY commit:**
- [ ] Commit format verified (read COMMIT_RULES.md fresh!)
- [ ] Tests written/updated
- [ ] No secrets in code
- [ ] No debug code left (console.log, System.out)

---

## ğŸ†˜ When Things Go Wrong

### I Don't Understand the Task
â†’ **STOP and ASK** for clarification

### I Can't Find Similar Code
â†’ **STOP and ASK** if should create new pattern

### Multiple Approaches Possible
â†’ **STOP and ASK** which approach user prefers

### Commit Format Wrong
â†’ **DON'T apologize and commit anyway**
â†’ **FIX the format** and verify again

---

## ğŸ“– Related Documentation

**Core Files (Load These):**
- `.claude/CRITICAL_PATH.md` - Absolute rules
- `.claude/RAPID_FEATURE.md` - Daily workflow
- `.claude/IGNITION.md` - Emergency workflow
- `.claude/USER_MANUAL.md` - User guide

**Reference Files (Load When Needed):**
- `.claude/rules/*.md` - Standards and guidelines
- `.claude/project/*.md` - Project-specific rules
- `.claude/templates/*.md` - Templates

---

## ğŸ¯ Success Criteria

**You're doing it right when:**
- âœ… You ask clarifying questions instead of guessing
- âœ… You copy existing patterns instead of inventing
- âœ… Commit format is ALWAYS correct first time
- âœ… Security and edge cases are verified
- âœ… Code follows project conventions

**You're NOT doing it right when:**
- âŒ You implement without asking questions
- âŒ Commit format is wrong (and you apologize)
- âŒ You skip security/edge case checks
- âŒ You invent new approaches when existing work

---

## ğŸ”„ File Lifecycle

**When starting task:**
1. Read CLAUDE.md (this file) - 2 min
2. Load CRITICAL_PATH.md - 3 min
3. Load TECH_STACK_CORE.md - 2 min
4. Pick workflow (RAPID/IGNITION/plan-feature)
5. Execute

**Before commit:**
1. Load COMMIT_RULES.md FRESH (don't rely on memory!)
2. Verify format checklist
3. Commit

---

**Remember:** Quality > Speed. Ask > Guess. Senior thinking > Junior output.

**Start with:** `.claude/CRITICAL_PATH.md` â† Read this NOW!
